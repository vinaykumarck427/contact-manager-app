(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{39:function(e,t,a){},43:function(e,t,a){e.exports=a(71)},71:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(22),l=a.n(c),s=a(40),o=a.n(s).a.create({baseURL:"http://localhost:3007"}),m=(a(39),a(7)),u=a(16),i=a(8),p=a(24),h=a.n(p),d=a(1),b=a(2),f=a(4),E=a(3),g=a(5),v=function(e){return{type:"REMOVE_CONTACT",payload:e}},N=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).handleDelete=function(e){window.confirm("are you sure?")&&o.delete("/contacts/".concat(e),{headers:{"x-auth":localStorage.getItem("userAuthToken")}}).then(function(t){a.props.dispatch(v(e)),a.props.history.push("/contacts")})},a}return Object(g.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){var e=this;o.get("/contacts",{headers:{"x-auth":localStorage.getItem("userAuthToken")}}).then(function(t){e.props.dispatch({type:"SET_CONTACTS",payload:t.data})})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"col-5 offset-md-2"},r.a.createElement("br",null),r.a.createElement("h1",{className:"h3"},"contact list - ",r.a.createElement("span",null,this.props.contacts.length)),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("ul",{className:"list-group"},this.props.contacts.map(function(t){return r.a.createElement("li",{id:"li",className:"list-group-item",type:"1",key:t._id},r.a.createElement(m.b,{to:"/contacts/".concat(t._id)},r.a.createElement("h5",{className:"h6"},t.userName)),r.a.createElement("button",{className:"button1",onClick:function(){e.handleDelete(t._id)}},"Delete"))}),r.a.createElement("br",null),r.a.createElement(m.b,{className:"Link",to:"/contacts/new"},"Add Contact"))))}}]),t}(r.a.Component),O=Object(i.b)(function(e){return{contacts:e.contacts}})(N),y=function(e){return{type:"SET_CONTACT",payload:e}},j=function(e){return{type:"EDIT_CONTACT",payload:e}},S=function(e){function t(){return Object(d.a)(this,t),Object(f.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;o.get("/contacts/".concat(t),{headers:{"x-auth":localStorage.getItem("userAuthToken")}}).then(function(t){e.props.dispatch(y(t.data))})}},{key:"render",value:function(){return r.a.createElement("div",{className:"col-4 offset-md-2"},r.a.createElement("br",null),!h.a.isEmpty(this.props.contact)&&r.a.createElement("div",null,r.a.createElement("h1",{className:"h11 text-uppercase"},this.props.contact.userName),r.a.createElement("div",{className:"span"},r.a.createElement("hr",null),r.a.createElement("span",{className:"span"},r.a.createElement("p",{className:"p"},r.a.createElement("b",null,"Email - "),this.props.contact.email)),r.a.createElement("span",null,r.a.createElement("p",{className:"p"},r.a.createElement("b",null,"Phone Number - "),this.props.contact.phoneNumber)),r.a.createElement("hr",null)),r.a.createElement(m.b,{className:"Link1",to:"/contacts"},"Back"),r.a.createElement(m.b,{className:"Link1",to:"/contacts/edit/".concat(this.props.contact._id)},"Edit")))}}]),t}(r.a.Component),w=Object(i.b)(function(e){return{contact:e.contact}})(S),C=a(15),k=function(e){function t(){var e;return Object(d.a)(this,t),(e=Object(f.a)(this,Object(E.a)(t).call(this))).handleChange=function(t){var a=(t.target.type,t.target.value),n=t.target.name;e.setState(function(){return Object(C.a)({},n,a)})},e.handleSubmit=function(t){t.preventDefault();var a={email:e.state.email,password:e.state.password};console.log(a),e.props.handleLogin(a)},e.state={email:"",password:""},e}return Object(g.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h2",{className:"h2 text-center text-justify text-uppercase text-center text-success"},"Login of user"),r.a.createElement("form",{className:"form",onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"formLabel2"},"Email"),r.a.createElement("br",null),r.a.createElement("input",{className:"input2 form-control col-md-9",type:"text",name:"email",value:this.state.email,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"formLabel2"},"Password"),r.a.createElement("br",null),r.a.createElement("input",{className:"input2 form-control col-md-9",type:"password",name:"password",value:this.state.password,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"pure-button b1",type:"submit",value:"Submit"}))))}}]),t}(r.a.Component),T=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).handleLogin=function(e){""===e.email&&""===e.password?alert("please enter input"):""===e.email?""===e.password?alert("please enter email & password"):alert("please enter email"):""===e.password?alert("please enter password"):o.post("/users/login",e).then(function(e){if(console.log(e.data),e.data.errors)alert(e.data.errors.message);else{console.log(a.props);var t=e.data.token;localStorage.setItem("userAuthToken",t),a.props.history.push("/users/account")}}).catch(function(e){e&&alert(e.message)})},a}return Object(g.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"col-3 offset-md-3"},r.a.createElement(k,{handleLogin:this.handleLogin}))}}]),t}(r.a.Component),x=function(e){return{type:"SET_USER",payload:e}},A=function(e){function t(){return Object(d.a)(this,t),Object(f.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){var e=this;o.get("/users/account",{headers:{"x-auth":localStorage.getItem("userAuthToken")}}).then(function(t){console.log(t.data);var a=t.data;e.props.dispatch(x(a)),e.props.history.push("/contacts")}).catch(function(e){console.log(e)})}},{key:"render",value:function(){return r.a.createElement("div",null)}}]),t}(r.a.Component),I=Object(i.b)(function(e){return{user:e.user}})(A),L=function(e){function t(){return Object(d.a)(this,t),Object(f.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){var e=this;o.delete("/users/logout",{headers:{"x-auth":localStorage.getItem("userAuthToken")}}).then(function(t){console.log(t.data),localStorage.removeItem("userAuthToken"),console.log(e.props),e.props.dispatch({type:"RESET_USER"}),e.props.history.push("/users/login")}).catch(function(e){console.log(e)})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h3",null,"Log out...."))}}]),t}(r.a.Component),_=Object(i.b)(function(e){return{user:e.user}})(L),R=function(e){function t(){var e;return Object(d.a)(this,t),(e=Object(f.a)(this,Object(E.a)(t).call(this))).handleChange=function(t){var a=(t.target.type,t.target.value),n=t.target.name;e.setState(function(){return Object(C.a)({},n,a)})},e.handleSubmit=function(t){t.preventDefault();var a={name:e.state.name,email:e.state.email,password:e.state.password};e.props.handleRegister(a)},e.state={name:"",email:"",password:""},e}return Object(g.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h2",{className:"h2 text-center text-justify text-uppercase text-center text-primary"},"User Registration"),r.a.createElement("form",{className:"form",onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"formLabel"},"Username"),r.a.createElement("br",null),r.a.createElement("input",{type:"text",className:"input form-control col-sm-9",name:"name",value:this.state.name,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"formLabel"},"Email"),r.a.createElement("br",null),r.a.createElement("input",{type:"text",className:"input form-control col-sm-9",name:"email",value:this.state.email,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"formLabel"},"Password"),r.a.createElement("br",null),r.a.createElement("input",{type:"password",className:"input form-control col-sm-9",name:"password",value:this.state.password,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"submit",value:"Submit ",className:"pure-button button text-uppercase"}))))}}]),t}(r.a.Component),D=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).handleRegister=function(e){""===e.name&&""===e.email&&""===e.password?alert("please enter input"):""===e.name?""===e.email?alert("please enter username & email"):""===e.password?alert("please enter username & password"):alert("please enter username"):""===e.email?""===e.password?alert("please enter email & password"):alert("please enter email"):""===e.password?alert("please enter password"):o.post("/users/register",e).then(function(e){console.log(e.data),e.data.errmsg?alert(e.data.errmsg):e.data.errors?alert(e.data.message):(console.log(a.props),a.props.history.push("/users/login"))}).catch(function(e){e&&alert(e.errmsg)})},a}return Object(g.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"col-4 offset-md-3"},r.a.createElement(R,{handleRegister:this.handleRegister}))}}]),t}(r.a.Component),M=function(e){function t(){var e;return Object(d.a)(this,t),(e=Object(f.a)(this,Object(E.a)(t).call(this))).handleInput=function(t){var a=(t.target.type,t.target.value),n=t.target.name;e.setState(Object(C.a)({},n,a))},e.handleSubmit=function(t){t.preventDefault();var a={userName:e.state.name,email:e.state.email,phoneNumber:e.state.phone};e.props.handleSubmit(a)},e.state={name:"",email:"",phone:""},e}return Object(g.a)(t,e),Object(b.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.contact&&this.setState({name:e.contact.userName,email:e.contact.email,phone:e.contact.phoneNumber})}},{key:"render",value:function(){return r.a.createElement("div",null,!this.state,r.a.createElement("form",{className:"form1",onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"label",htmlFor:"label1"},"Name"),r.a.createElement("br",null),r.a.createElement("input",{className:"input1 form-control-md col-sm-10",to:"label1",name:"name",type:"text",value:this.state.name,onChange:this.handleInput})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"label",htmlFor:"label2"},"Email:"),r.a.createElement("input",{className:"input1 form-control-md col-sm-10",to:"label2",name:"email",type:"text",value:this.state.email,onChange:this.handleInput}),r.a.createElement("br",null)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"label",htmlFor:"label3"},"Phone Number:"),r.a.createElement("br",null),r.a.createElement("input",{className:"input1 form-control-md col-sm-10",to:"label3",type:"number",name:"phone",value:this.state.phone,onChange:this.handleInput})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"button2 pure-button",type:"submit",value:"Submit"}))),this.props.contact&&r.a.createElement(m.b,{className:"Link",to:"/contacts/".concat(this.props.contact._id)},"Back"))}}]),t}(r.a.Component),U=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){o.post("/contacts",e,{headers:{"x-auth":localStorage.getItem("userAuthToken")}}).then(function(e){a.props.history.push("/contacts")})},a}return Object(g.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"col-5 offset-md-3"},r.a.createElement("h2",{className:"h21"},"Add New Contact"),r.a.createElement(M,{handleSubmit:this.handleSubmit}),r.a.createElement(m.b,{className:"Link2",to:"/contacts"},"Back"))}}]),t}(r.a.Component),P=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).componentDidMount=function(){var e=a.props.match.params.id;o.get("/contacts/".concat(e),{headers:{"x-auth":localStorage.getItem("userAuthToken")}}).then(function(e){console.log(e.data),a.props.dispatch(y(e.data))})},a.handleSubmit=function(e){var t=a.props.match.params.id;o.put("/contacts/".concat(t),e,{headers:{"x-auth":localStorage.getItem("userAuthToken")}}).then(function(e){a.props.dispatch(j(e.data)),a.props.history.push("/contacts/".concat(t))})},a}return Object(g.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"col-5 offset-md-4"},r.a.createElement("h2",{className:"h21 center"},"Edit Contact"),r.a.createElement(M,{contact:this.props.contact,handleSubmit:this.handleSubmit}))}}]),t}(r.a.Component),B=Object(i.b)(function(e){return{contact:e.contact}})(P),F=Object(i.b)(function(e){return{user:e.user}})(function(e){return console.log(e),r.a.createElement(m.a,null,r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"divnav row"},r.a.createElement("nav",{className:"navbar navbar-expand-sm"},r.a.createElement("div",{className:"col-3 offset-md-3"},r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarToggleExternalContent"},r.a.createElement("ul",{className:"nav navbar-nav"},h.a.isEmpty(localStorage.getItem("userAuthToken"))?r.a.createElement("div",null,r.a.createElement("li",{className:"li nav-item"},r.a.createElement(m.b,{to:"/users/register",className:"nav-link"},"Register")),r.a.createElement("li",{className:"li nav-item"},r.a.createElement(m.b,{className:"nav-link",to:"/users/login"},"Login"))):r.a.createElement("div",null,r.a.createElement("li",{className:"li nav-item"},r.a.createElement(m.b,{to:"/users/account",className:"nav-link"},"Account")),r.a.createElement("li",{className:"li nav-item"},r.a.createElement(m.b,{className:"nav-link",to:"/users/logout"},"Logout")))))))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"row align-items-end"},r.a.createElement(u.c,null,r.a.createElement(u.a,{path:"/users/account",component:I,exact:!0}),r.a.createElement(u.a,{exact:!0,path:"/users/logout",component:_}),r.a.createElement(u.a,{path:"/users/register",component:D,exact:!0}),r.a.createElement(u.a,{exact:!0,path:"/users/login",component:T}),r.a.createElement(u.a,{path:"/contacts",component:O,exact:!0}),r.a.createElement(u.a,{exact:!0,path:"/contacts/new",component:U}),r.a.createElement(u.a,{exact:!0,path:"/contacts/edit/:id",component:B}),r.a.createElement(u.a,{exact:!0,path:"/contacts/:id",component:w})))))}),J=a(20),V=a(18),W={},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":return Object(V.a)({},t.payload);case"RESET_USER":return{};default:return Object(V.a)({},e)}},z=a(29),G=[],H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CONTACTS":return Object(z.a)(t.payload);case"REMOVE_CONTACT":return e.filter(function(e){return e._id!==t.payload});default:return Object(z.a)(e)}},K={},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CONTACT":return Object(V.a)({},t.payload);case"EDIT_CONTACT":return Object.assign(e,t.payload);default:return Object(V.a)({},e)}},X=function(){return Object(J.c)(Object(J.b)({user:q,contacts:H,contact:Q}))}();X.subscribe(function(){console.log("redux store state",X.getState())}),localStorage.getItem("userAuthToken")&&o.get("/users/account",{headers:{"x-auth":localStorage.getItem("userAuthToken")}}).then(function(e){X.dispatch(x(e.data))});var Y=r.a.createElement(i.a,{store:X},r.a.createElement(F,null));l.a.render(Y,document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.2d241e12.chunk.js.map